<html lang="vi" prefix="og: https://ogp.me/ns#">
    <?php $this->load->view('includes/head')?>
        <link rel="stylesheet" id="kk-star-ratings-css" href="/assets/css/home.css?v=<?=time()?>" type="text/css" media="all" />
        <link rel="stylesheet" id="kk-star-ratings-css" href="/assets/css/post-587.css?v=<?=time()?>" type="text/css" media="all" />
        <link rel="stylesheet" id="kk-star-ratings-css" href="/assets/css/post-685.css?v=<?=time()?>" type="text/css" media="all" />
    <body
        data-rsssl="1"
        class="home wp-singular page-template page-template-elementor_header_footer page page-id-55 wp-custom-logo wp-theme-font-chuan elementor-default elementor-template-full-width elementor-kit-24 elementor-page elementor-page-55 e--ua-blink e--ua-chrome e--ua-mac e--ua-webkit"
        data-elementor-device-mode="desktop"
    >
    <?php $this->load->view('includes/header')?>
    

    <div
    data-elementor-type="single-post"
    data-elementor-id="587"
    class="elementor elementor-587 elementor-location-single post-13415 font type-font status-publish has-post-thumbnail hentry nganh-nghe-font-chu-anh-cuoi nganh-nghe-font-chu-quang-cao nganh-nghe-font-chu-spa nganh-nghe-font-chu-thiep-cuoi su-kien-font-le-hoi su-kien-font-sinh-nhat su-kien-font-valentine loai-font-font-display loai-font-font-sans-serif danh-muc-font-font-quoc-te danh-muc-font-bo-suu-tap danh-muc-font-font-viet-hoa danh-muc-font-khac"
    data-elementor-post-type="elementor_library"
>
    <section
        class="elementor-section elementor-top-section elementor-element elementor-element-254225c elementor-section-boxed elementor-section-height-default elementor-section-height-default"
        data-id="254225c"
        data-element_type="section"
    >
        <div class="elementor-container elementor-column-gap-wide">
            <div class="elementor-column elementor-col-50 elementor-top-column elementor-element elementor-element-3a6eaa7" data-id="3a6eaa7" data-element_type="column" data-settings='{"background_background":"classic"}'>
                <div class="elementor-widget-wrap elementor-element-populated">
                    <div class="elementor-element elementor-element-c2feb7a elementor-align-left elementor-widget elementor-widget-breadcrumbs" data-id="c2feb7a" data-element_type="widget" data-widget_type="breadcrumbs.default">
                        <div class="elementor-widget-container">
                            <nav aria-label="breadcrumbs" class="rank-math-breadcrumb">
                                <p>
                                    <a href="/">Trang chủ</a><span class="separator"> / </span><a href="/font/">Font</a><span class="separator"> / </span>
                                    <span class="last"><?=$font->name?></span>
                                </p>
                            </nav>
                        </div>
                    </div>
                    <div
                        class="elementor-element elementor-element-9a236bd one elementor-widget elementor-widget-theme-post-title elementor-page-title elementor-widget-heading"
                        data-id="9a236bd"
                        data-element_type="widget"
                        data-widget_type="theme-post-title.default"
                    >
                        <div class="elementor-widget-container">
                            <h1 class="elementor-heading-title elementor-size-default"><?=$font->name?></h1>
                        </div>
                    </div>
                    <section
                        class="elementor-section elementor-inner-section elementor-element elementor-element-a3740d7 elementor-section-boxed elementor-section-height-default elementor-section-height-default"
                        data-id="a3740d7"
                        data-element_type="section"
                    >
                        <div class="elementor-container elementor-column-gap-no">
                            <div class="elementor-column elementor-col-50 elementor-inner-column elementor-element elementor-element-b5a6705" data-id="b5a6705" data-element_type="column">
                                <div class="elementor-widget-wrap elementor-element-populated">
                                    <div
                                        class="elementor-element elementor-element-9eba458 main font image elementor-widget elementor-widget-theme-post-featured-image elementor-widget-image"
                                        data-id="9eba458"
                                        data-element_type="widget"
                                        data-widget_type="theme-post-featured-image.default"
                                    >
                                        <div class="elementor-widget-container">
                                            <a
                                                href="/wp-content/uploads/2025/04/Instagram-Sans-Script.jpg"
                                                data-elementor-open-lightbox="yes"
                                                data-e-action-hash="#elementor-action%3Aaction%3Dlightbox%26settings%3DeyJpZCI6MTIzODMsInVybCI6Imh0dHBzOlwvXC9mb250Y2h1YW4uY29tXC93cC1jb250ZW50XC91cGxvYWRzXC8yMDI1XC8wNFwvSW5zdGFncmFtLVNhbnMtU2NyaXB0LmpwZyJ9"
                                            >
                                                <img
                                                    width="1024"
                                                    height="768"
                                                    src="/<?=$font->image_url?>"
                                                    class="font-img attachment-large size-large wp-image-12383"
                                                    alt="<?=$font->name?>"
                                                    sizes="(max-width: 1024px) 100vw, 1024px"
                                                />
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="elementor-column elementor-col-50 elementor-inner-column elementor-element elementor-element-d715ed3" data-id="d715ed3" data-element_type="column">
                                <div class="elementor-widget-wrap elementor-element-populated">
                                    <div
                                        class="elementor-element elementor-element-f08aa11 span-font-archive elementor-widget elementor-widget-jet-listing-dynamic-field"
                                        data-id="f08aa11"
                                        data-element_type="widget"
                                        data-widget_type="jet-listing-dynamic-field.default"
                                    >
                                        <div class="elementor-widget-container">
                                            <div class="jet-listing jet-listing-dynamic-field display-inline">
                                                <div class="jet-listing-dynamic-field__inline-wrap">
                                                    <i class="jet-listing-dynamic-field__icon fas fa-user-tie" aria-hidden="true"></i>
                                                    <div class="jet-listing-dynamic-field__content">Tác giả Font: <?=$font->author?></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div
                                        class="elementor-element elementor-element-2a548c1 span-font-archive elementor-widget elementor-widget-jet-listing-dynamic-field"
                                        data-id="2a548c1"
                                        data-element_type="widget"
                                        data-widget_type="jet-listing-dynamic-field.default"
                                    >
                                        <div class="elementor-widget-container">
                                            <div class="jet-listing jet-listing-dynamic-field display-inline">
                                                <div class="jet-listing-dynamic-field__inline-wrap">
                                                    <i class="jet-listing-dynamic-field__icon fas fa-user-edit" aria-hidden="true"></i>
                                                    <div class="jet-listing-dynamic-field__content">Việt hóa bởi: <?=$font->vietnamization?></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div
                                        class="elementor-element elementor-element-b9f9de0 span-font-archive elementor-widget elementor-widget-jet-listing-dynamic-field"
                                        data-id="b9f9de0"
                                        data-element_type="widget"
                                        data-widget_type="jet-listing-dynamic-field.default"
                                    >
                                        <div class="elementor-widget-container">
                                            <div class="jet-listing jet-listing-dynamic-field display-inline">
                                                <div class="jet-listing-dynamic-field__inline-wrap">
                                                    <i class="jet-listing-dynamic-field__icon fas fa-user-check" aria-hidden="true"></i>
                                                    <div class="jet-listing-dynamic-field__content">Được đăng bởi: <?=$font->posted_by?></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="elementor-element elementor-element-f69cfd4 list-dmfont-singel elementor-widget elementor-widget-post-info" data-id="f69cfd4" data-element_type="widget" data-widget_type="post-info.default">
                                        <div class="elementor-widget-container">
                                            <ul class="elementor-inline-items elementor-icon-list-items elementor-post-info">
                                                <?php if(!empty($cate1)) {?>
                                                <li class="elementor-icon-list-item elementor-repeater-item-d0e5370 elementor-inline-item" itemprop="about">
                                                    <span class="elementor-icon-list-icon"> <i aria-hidden="true" class="fas fa-tags"></i> </span>
                                                    <span class="elementor-icon-list-text elementor-post-info__item elementor-post-info__item--type-terms">
                                                        <span class="elementor-post-info__item-prefix">Loại:</span>
                                                        <span class="elementor-post-info__terms-list">
                                                            <?php foreach($cate1 as $key => $item) { ?>
                                                            <a href="/<?=$item['slug']?>" class="elementor-post-info__terms-list-item"><?=$item['name']?></a><?$key < count($cate2) - 1 ? ',' : ''?>
                                                            <?php } ?>
                                                        </span>
                                                    </span>
                                                </li>
                                                <?php } ?>
                                                <?php if(!empty($cate2)) {?>
                                                <li class="elementor-icon-list-item elementor-repeater-item-d0e5370 elementor-inline-item" itemprop="about">
                                                    <span class="elementor-icon-list-icon"> <i aria-hidden="true" class="fas fa-tags"></i> </span>
                                                    <span class="elementor-icon-list-text elementor-post-info__item elementor-post-info__item--type-terms">
                                                        <span class="elementor-post-info__item-prefix">Phù hợp với:</span>
                                                        <span class="elementor-post-info__terms-list">
                                                            <?php foreach($cate2 as $key => $item) { ?>
                                                            <a href="/<?=$item['slug']?>" class="elementor-post-info__terms-list-item"><?=$item['name']?></a><?$key < count($cate2) - 1 ? ',' : ''?>
                                                            <?php } ?>
                                                        </span>
                                                    </span>
                                                </li>
                                                <?php } ?>
                                                <?php if(!empty($cate3)) {?>
                                                <li class="elementor-icon-list-item elementor-repeater-item-d0e5370 elementor-inline-item" itemprop="about">
                                                    <span class="elementor-icon-list-icon"> <i aria-hidden="true" class="fas fa-tags"></i> </span>
                                                    <span class="elementor-icon-list-text elementor-post-info__item elementor-post-info__item--type-terms">
                                                        <span class="elementor-post-info__item-prefix">Dùng trong dịp:</span>
                                                        <span class="elementor-post-info__terms-list">
                                                            <?php foreach($cate3 as $key => $item) { ?>
                                                            <a href="/<?=$item['slug']?>" class="elementor-post-info__terms-list-item"><?=$item['name']?></a><?$key < count($cate2) - 1 ? ',' : ''?>
                                                            <?php } ?>
                                                        </span>
                                                    </span>
                                                </li>
                                                <?php } ?>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="elementor-element elementor-element-3122c91 elementor-widget elementor-widget-html" data-id="3122c91" data-element_type="widget" data-widget_type="html.default">
                                        <div class="elementor-widget-container">
                                            <div class="popup-fc-wrapper">
                                                <!-- Nút kích hoạt popup -->
                                                <button id="button-linktai" class="open-popup-fc" data-post-id="13415">
                                                    <svg aria-hidden="true" class="e-font-icon-svg e-fas-cloud-download-alt" viewBox="0 0 640 512" xmlns="http://www.w3.org/2000/svg">
                                                        <path
                                                            d="M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zm-132.9 88.7L299.3 420.7c-6.2 6.2-16.4 6.2-22.6 0L171.3 315.3c-10.1-10.1-2.9-27.3 11.3-27.3H248V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v112h65.4c14.2 0 21.4 17.2 11.3 27.3z"
                                                        ></path>
                                                    </svg>
                                                    TẢI FONT NÀY
                                                </button>

                                                <!-- Popup overlay chứa nội dung -->
                                                <div class="popup-fc-container" style="display: none;">
                                                    <div class="popup-fc-content">
                                                        <!-- Nút đóng nằm trong container, cố định ở góc phải trên cùng -->
                                                        <span class="close-popup-fc">×</span>
                                                        <!-- Vùng nội dung cuộn được -->
                                                        <div class="popup-fc-inner">
                                                            <div class="download-buttons-popup">
                                                                <a href="<?=$font->dowload_link?>" rel="nofollow">
                                                                    <button class="download-button" id="button-linktai">
                                                                        <svg aria-hidden="true" class="e-font-icon-svg e-fas-cloud-download-alt" viewBox="0 0 640 512" xmlns="http://www.w3.org/2000/svg">
                                                                        <path d="M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zm-132.9 88.7L299.3 420.7c-6.2 6.2-16.4 6.2-22.6 0L171.3 315.3c-10.1-10.1-2.9-27.3 11.3-27.3H248V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v112h65.4c14.2 0 21.4 17.2 11.3 27.3z"></path>
                                                                        </svg>
                                                                        Link tải chính thức
                                                                    </button>
                                                                </a>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    <div class="elementor-element elementor-element-e7d7021 elementor-widget elementor-widget-spacer" data-id="e7d7021" data-element_type="widget" data-widget_type="spacer.default">
                        <div class="elementor-widget-container">
                            <div class="elementor-spacer">
                                <div class="elementor-spacer-inner"></div>
                            </div>
                        </div>
                    </div>
                    <div class="elementor-element elementor-element-e24f49c elementor-widget elementor-widget-theme-post-content" data-id="e24f49c" data-element_type="widget" data-widget_type="theme-post-content.default">
                        <div class="elementor-widget-container">
                            <!-- Font Preview Section -->
                            <div class="clearfix">
                                <div class="font-settings" data-settings="">
                                    <div class="text">
                                        <div id="fcpp-font-loading" style="display: none;"><i class="zil zi-settings zi-spin"></i> Đang xử lý...</div>
                                        <input class="settings-input" type="text" name="text" value="" data-default="Font Chuẩn - Đây là Font được hiển thị" placeholder="Nhập vào đây để xem trước phông chữ này" maxlength="200" />
                                    </div>
                                    <div class="font-settings-size">
                                        <a href="javascript:void(0)" data-size="18" class="s18">18pt</a>
                                        <a href="javascript:void(0)" data-size="32" class="s32 active">32pt</a>
                                        <a href="javascript:void(0)" data-size="48" class="s48">48pt</a>
                                        <a href="javascript:void(0)" data-size="72" class="s72">72pt</a>
                                    </div>
                                </div>
                            </div>

                            <div class="clearfix">
                                <div class="fcpp-font-preview" style="visibility: visible;">
                                    <ul class="fcpp-list">
                                    
                                    </ul>
                                    <div class="fcpp-glyph-button-wrapper" style="text-align: center; margin-top: 20px;">
                                        <button id="fcpp-show-glyphs">
                                            <svg aria-hidden="true" class="e-font-icon-svg e-far-eye" viewBox="0 0 576 512" xmlns="http://www.w3.org/2000/svg" width="18" height="18">
                                                <path
                                                    d="M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"
                                                ></path>
                                            </svg>
                                            Xem Glyphs phông chữ này
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Container hiển thị glyphs (popup hoặc vùng riêng) -->
                            <div id="fcpp-glyph-generate" class="fcpp-glyph-container">
                                
                            </div>
                        </div>
                    </div>
                    <div class="elementor-element elementor-element-bf89c4d elementor-widget-divider--view-line elementor-widget elementor-widget-divider" data-id="bf89c4d" data-element_type="widget" data-widget_type="divider.default">
                        <div class="elementor-widget-container">
                            <div class="elementor-divider">
                                <span class="elementor-divider-separator"> </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="elementor-column elementor-col-50 elementor-top-column elementor-element elementor-element-9c79c7b" data-id="9c79c7b" data-element_type="column" data-settings='{"background_background":"classic"}'>
                <div class="elementor-widget-wrap elementor-element-populated">
                    <div class="elementor-background-overlay"></div>
                    <div class="elementor-element elementor-element-693ab5b elementor-widget elementor-widget-template" data-id="693ab5b" data-element_type="widget" data-widget_type="template.default">
                        <div class="elementor-widget-container">
                            <div class="elementor-template">
                                <div data-elementor-type="container" data-elementor-id="1440" class="elementor elementor-1440" data-elementor-post-type="elementor_library">
                                    <div class="elementor-element elementor-element-461e12c e-flex e-con-boxed e-con e-parent e-lazyloaded" data-id="461e12c" data-element_type="container">
                                        <div class="e-con-inner">
                                            <div
                                                class="elementor-element elementor-element-7f329de elementor-widget elementor-widget-search"
                                                data-id="7f329de"
                                                data-element_type="widget"
                                                data-settings='{"live_results":"yes","template_id":"705","results_is_dropdown_width":"widget_width","minimum_search_characters":2,"submit_trigger":"click_submit","pagination_type_options":"none"}'
                                                data-widget_type="search.default"
                                                style="--e-search-icon-label-absolute-width: 0px; --e-search-icon-clear-absolute-width: 11px;"
                                            >
                                                <div class="elementor-widget-container">
                                                    <search class="e-search" role="search">
                                                        <form class="e-search-form" action="" method="get">
                                                            <label class="e-search-label" for="search-7f329de">
                                                                <span class="elementor-screen-only"> Tìm kiếm </span>
                                                            </label>

                                                            <div class="e-search-input-wrapper">
                                                                <input
                                                                    id="search-7f329de"
                                                                    placeholder="Nhập font bạn muốn tìm"
                                                                    class="e-search-input no-icon-label"
                                                                    type="search"
                                                                    name="s"
                                                                    value=""
                                                                    autocomplete="off"
                                                                    role="combobox"
                                                                    aria-autocomplete="list"
                                                                    aria-expanded="false"
                                                                    aria-controls="results-7f329de"
                                                                    aria-haspopup="listbox"
                                                                />
                                                                <i aria-hidden="true" class="fas fa-times hidden"></i>
                                                            </div>
                                                            <output id="results-7f329de" class="e-search-results-container hide-loader" aria-live="polite" aria-atomic="true" aria-label="Results for search" tabindex="0">
                                                                <div class="e-search-results"></div>
                                                            </output>

                                                            <button class="e-search-submit" type="submit">
                                                                <i aria-hidden="true" class="fas fa-search"></i>
                                                                <span class=""> </span>
                                                            </button>
                                                            <input type="hidden" name="e_search_props" value="7f329de-1440" />
                                                        </form>
                                                    </search>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div
                        class="elementor-element elementor-element-f88b6f9 elementor-widget elementor-widget-jet-listing-grid"
                        data-id="f88b6f9"
                        data-element_type="widget"
                        data-settings='{"columns":"2","columns_tablet":"3","columns_mobile":"2"}'
                        data-widget_type="jet-listing-grid.default"
                    >
                        <div class="elementor-widget-container">
                      
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>


    <?php $this->load->view('includes/footer')?>                                                
    <?php $this->load->view('includes/script')?>   

    <script>
        (function ($) {
            "use strict";
            // Hàm tải font preview qua AJAX
            function loadFontPreview(text, size) {
                var data = {
                    size: size,
                    text: text,
                };
                if(text) {
                    $(".fcpp-list li div").text(text)
                    $(".fcpp-list li div").css("font-size", size);
                    return
                }
                $.ajax({
                    type: "POST",
                    url: "api/font/detail/<?=$font->post_id?>",
                    dataType: "json",
                    data: data,
                    success: function (response) {
                        if (response.status === 1) {
                            var images = response.images;
                            var html = "";
                            images.forEach(function (img) {
                                html += "<li><span>" + img.name + "</span>" + img.html + "</li>";
                            });
                            $(".fcpp-font-preview ul").html(html);

                            // Chèn nút "Xem Glyphs phông chữ này" nếu chưa có
                            if ($("#fcpp-show-glyphs").length === 0) {
                                $(".fcpp-font-preview").append(
                                    '<div class="fcpp-glyph-button-wrapper" style="text-align:center; margin-top:20px;">' +
                                        '<button id="fcpp-show-glyphs">' +
                                        '<svg aria-hidden="true" class="e-font-icon-svg e-far-eye" viewBox="0 0 576 512" xmlns="http://www.w3.org/2000/svg" width="18" height="18">' +
                                        '<path d="M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"></path>' +
                                        "</svg> Xem Glyphs phông chữ này" +
                                        "</button>" +
                                        "</div>"
                                );
                            }
                        } else {
                            $(".fcpp-font-preview ul").html("<li>Trình xem trước Font Chuẩn đang cập nhật.</li>");
                        }
                        $("#fcpp-font-loading").hide();
                        $(".fcpp-list li div").text(text)
                    },
                    error: function () {
                        console.error("Failed to load font preview.");
                        $(".fcpp-font-preview ul").html("<li>Trình xem trước Font Chuẩn đang cập nhật.</li>");
                        $("#fcpp-font-loading").hide();
                    },
                });
            }

            // Hàm tải glyphs qua AJAX
            function loadGlyphs(size) {
                var data = {
                    action: "fcpp_glyph_generator",
                    id: <?=$font->id?>,
                };

                $.ajax({
                    type: "POST",
                    url: "api/font/detail/<?=$font->post_id?>",
                    dataType: "json",
                    data: data,
                    success: function (response) {
                        if (response.status === 1) {
                            var html = "";
                            response.glyphs.forEach(function (fontGlyph) {
                                html +=
                                    '<div class="glyph-group"><span style="font-size: 24px; font-weight: 700; line-height: 1.4em; display: flex; justify-content: center; text-align: center;     margin: 15px 0 10px 0;">' +
                                    fontGlyph.font +
                                    "</span>" +
                                    fontGlyph.html +
                                    "</div>";
                            });
                            $("#fcpp-glyph-generate").html(html);
                        } else {
                            $("#fcpp-glyph-generate").html("<p>Glyphs phông chữ này chưa có.</p>");
                        }
                        $(".fcpp-list li div").text("Font Chuẩn - Đây là Font được hiển thị")
                    },
                    error: function () {
                        console.error("Failed to load glyphs.");
                        $("#fcpp-glyph-generate").html("<p>Glyphs phông chữ này chưa có.</p>");
                    },
                });
            }

            $(document).ready(function () {
                var defaultText = $(".settings-input").data("default");
                var defaultSize = 32;

                // Load preview (và glyphs nếu bật) khi trang load xong
                loadFontPreview("", defaultSize);
                loadGlyphs(defaultSize);

                $(".settings-input").on(
                    "keyup paste",
                    throttle(function () {
                        var text = $(this).val().trim();
                        if (text.length === 0) {
                            text = defaultText;
                            $(this).val(text);
                        }
                        $("#fcpp-font-loading").show();
                        var size = $(".font-settings-size a.active").data("size");
                        loadFontPreview(text, size);
                        $("#fcpp-font-loading").hide();
                    }, 900)
                );

                $(".font-settings-size a").click(function (e) {
                    e.preventDefault();
                    if (!$(this).hasClass("active")) {
                        var size = $(this).data("size");
                        $(".font-settings-size a.active").removeClass("active");
                        $(this).addClass("active");

                        var text = $(".settings-input").val().trim();
                        if (text.length === 0) {
                            text = defaultText;
                            $(".settings-input").val(text);
                        }
                        // $("#fcpp-font-loading").show();
                        loadFontPreview(text, size);
                        // loadGlyphs(size);
                    }
                });

                // Xử lý sự kiện click cho nút "Xem Glyphs phông chữ này" (được chèn sau khi preview load xong)
                $(document).on("click", "#fcpp-show-glyphs", function (e) {
                    e.preventDefault();
                    // Lấy nội dung glyph từ container đã được load qua AJAX
                    var glyphContent = $("#fcpp-glyph-generate").html();
                    if (!glyphContent) {
                        glyphContent = "<p>Glyph không có dữ liệu.</p>";
                    }
                    // Giả sử khung popup của theme đã được tạo qua shortcode, ví dụ:
                    // Container popup có class .popup-fc-wrapper, bên trong có .popup-fc-inner và .popup-fc-container
                    var $themePopup = $(".popup-fc-wrapper").first();
                    if ($themePopup.length) {
                        $themePopup.find(".popup-fc-inner").html(glyphContent);
                        $themePopup.find(".popup-fc-container").fadeIn().addClass("active");
                    } else {
                        // Nếu không có popup của theme, bạn có thể hiển thị glyphs ngay trên trang:
                        alert("Popup của theme không tồn tại.");
                    }
                });

                // Xử lý đóng popup (nếu cần)
                $(document).on("click", ".fcpp-close-popup", function () {
                    $(".popup-fc-container").fadeOut().removeClass("active");
                });
            });

            function throttle(fn, delay) {
                var timer = null;
                return function () {
                    var context = this,
                        args = arguments;
                    clearTimeout(timer);
                    timer = setTimeout(function () {
                        fn.apply(context, args);
                    }, delay || 900);
                };
            }
            $("body").on("click", ".close-popup-fc", function() {
                $('.popup-fc-wrapper').find(".popup-fc-container").hide()
            })
            $("#button-linktai").click(function() {
                $('.popup-fc-wrapper').find(".popup-fc-container").show()
            })
        })(jQuery);
    </script>
    </body>
</html>
